<div id="example-basic-state"></div>

<script>
  import { $ } from '../../lib/dom';

  const MyComponent = (props: number = 1) => {
    const [counter, ref] = $.createState(props);

    return $('div', { className: 'bg-orange-300 p-2 rounded flex gap-2' }, [
      $('div', { ref }, ['Count: ', counter.get]),
      //         ^ put ref in any element you want to re-render
      $('div', { className: 'ml-auto' }, 'No re-rendered here'),
      $(
        'button',
        {
          type: 'button',
          className: 'px-2 bg-emerald-200 rounded',
          onClick: () => counter.set((prev) => prev + 1),
        },
        'Increment'
      ),
    ]);
  };

  $(
    document.querySelector('#example-basic-state')! as HTMLDivElement,
    { className: 'bg-yellow-300 rounded my-3 p-3 space-y-2' },
    [MyComponent, MyComponent, MyComponent(30)]
  );
</script>
